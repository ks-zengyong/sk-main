<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=0.5">
  <title>Angle Test</title>
</head>
<body>
  <canvas id="myCanvas" width="2000" height="2000"></canvas>

  <script>
    const canvas = document.getElementById('myCanvas');
    const ctx = canvas.getContext('2d');

    ///////////////////////////////////////////////////////////////////////////////////////////////////////////
    var side = 0;
    function drawLabel(p, angle=0, color="", lbl = [NaN, NaN])
    {
        ctx.font = '10px Arial';
        var text;
        if ((lbl[0] != NaN) && (lbl[1] != NaN))
        {
            text = '(' + lbl[0] + ', ' + lbl[1] + ')';
        }
        else
        {
            text = '(' + p[0] + ', ' + p[1] + ')';
        }
        ctx.save();
        if (color != "")
        {
            ctx.fillStyle = color;
            ctx.strokeStyle = color;
        }
        ctx.translate(p[0], p[1]);
        ctx.rotate(angle * Math.PI / 180);
        if (side % 2 == 0)
        {
            ctx.fillText(text, 0, 0);
        }
        else
        {
            ctx.textAlign = "right";
            ctx.fillText(text, 0, 0);
        }

        ctx.restore();
        side += 1;
    }

    function drawPoint(p, color="")
    {
        ctx.save();

        if (color != "")
        {
            ctx.fillStyle = color;
            ctx.strokeStyle = color;
        }
        var r = 2;
        var len = r * 2;
        ctx.fillRect(p[0] - r, p[1] - r, len, len);

        ctx.restore();
    }

    function drawLine(s, e)
    {
        ctx.beginPath();
        ctx.moveTo(s[0], s[1]);
        ctx.lineTo(e[0], e[1]);
        ctx.stroke();
    }

    function drawQuad(p0, p1, p2)
    {
        ctx.beginPath();
        ctx.moveTo(p0[0], p0[1]);
        ctx.quadraticCurveTo(p1[0], p1[1], p2[0], p2[1]);
        ctx.stroke();
    }

    function drawQuadCtrl(p0, p1, p2)
    {
        drawLine(p0, p1);
        drawLine(p0, p2);

        drawPoint(p0);
        drawPoint(p1);
        drawPoint(p2);
        drawLabel(p0);
        drawLabel(p1);
        drawLabel(p2);
    }

    function drawCubicCtrl(p0, p1, p2, p3)
    {
        // drawLine(p0, p1);
        // drawLine(p0, p2);
        // drawLine(p0, p3);

        drawPoint(p0);
        drawPoint(p1);
        drawPoint(p2);
        drawPoint(p3);
        // drawLabel(p0);
        // drawLabel(p1);
        // drawLabel(p2);
        // drawLabel(p3);
    }
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////

    ///////////////////////////////////////////////////////////////////////////////////////////////////////////
    function hexStrToFloat(str)
    {
        var float = 0, sign, order, mantissa, exp,
        int = 0, multi = 1;
        if (/^0x/.exec(str))
        {
            int = parseInt(str, 16);
        }
        else
        {
            for (var i = str.length -1; i >=0; i -= 1)
            {
                if (str.charCodeAt(i) > 255)
                {
                    console.log('Wrong string parameter');
                    return false;
                }
                int += str.charCodeAt(i) * multi;
                multi *= 256;
            }
        }

        sign = (int >>> 31) ? -1 : 1;
        exp = (int >>> 23 & 0xff) - 127;
        mantissa = ((int & 0x7fffff) + 0x800000).toString(2);
        for (i=0; i<mantissa.length; i+=1)
        {
            float += parseInt(mantissa[i]) ? Math.pow(2, exp) : 0;
            exp--;
        }

        return float * sign;
    }

    function drawBuf8380()
    {
        function T(str)
        {
            var f = hexStrToFloat(str);
            var scale = 20;
            return f * scale;
        }

        ctx.beginPath();
        ctx.moveTo(T('0xa6800000'), T('0x43b0f22d'));
        ctx.lineTo(T('0x42fc0000'), T('0x4116566d'));
        ctx.bezierCurveTo(
            T('0x42fb439d'), T('0x4114bbc7'),
            T('0x42fa3ed7'), T('0x411565bd'),
            T('0x42f934d2'), T('0x4116131e')
        );
        ctx.bezierCurveTo(
            T('0x42f84915'), T('0x4116acc3'),
            T('0x42f75939'), T('0x41174918'),
            T('0x42f693f8'), T('0x4116566d')
        );
        ctx.lineTo(T('0x42ec3cee'), T('0x410127bb'));
        ctx.lineTo(T('0x4102c0ec'), T('0x42d06d0e'));
        ctx.lineTo(T('0xa6000000'), T('0x4381a63d'));
        ctx.lineTo(T('0x00000000'), T('0x43b0f22d'));
        ctx.lineTo(T('0xa6800000'), T('0x43b0f22d'));
        ctx.fillStyle = 'red';
        ctx.strokeStyle = 'red';
        ctx.stroke();

        drawCubicCtrl(
            [T('0x42fc0000'), T('0x4116566d')],
            [T('0x42fb439d'), T('0x4114bbc7')],
            [T('0x42fa3ed7'), T('0x411565bd')],
            [T('0x42f934d2'), T('0x4116131e')]
        );
        drawCubicCtrl(
            [T('0x42f934d2'), T('0x4116131e')],
            [T('0x42f84915'), T('0x4116acc3')],
            [T('0x42f75939'), T('0x41174918')],
            [T('0x42f693f8'), T('0x4116566d')]
        );

        ctx.translate(-1000, 40);
        ctx.beginPath();
        ctx.moveTo(T('0x4102c0ec'), T('0x42d06d0e'));
        ctx.lineTo(T('0xc0ba5a1d'), T('0x43b8e831'));
        ctx.lineTo(T('0x42fc0000'), T('0x411656d6'));
        ctx.bezierCurveTo(
            T('0x42fa9cac'), T('0x41134fdf'),
            T('0x42f837cf'), T('0x41185aee'),
            T('0x42f693f8'), T('0x411656d6')
        );
        ctx.lineTo(T('0x42ec3cee'), T('0x410127bb'));
        ctx.lineTo(T('0x4102c0ec'), T('0x42d06d0e'));

        ctx.fillStyle = 'blue';
        ctx.strokeStyle = 'blue';
        ctx.stroke();

        drawCubicCtrl(
            [T('0x42fc0000'), T('0x411656d6')],
            [T('0x42fa9cac'), T('0x41134fdf')],
            [T('0x42f837cf'), T('0x41185aee')],
            [T('0x42f693f8'), T('0x411656d6')]
        );
    }

    function drawBuf8380_break()
    {
        function T(num)
        {
            var scale = 20;
            return num * scale;
        }

        ctx.fillStyle = 'red';
        ctx.strokeStyle = 'red';

        // ctx.beginPath();
        // ctx.moveTo(T(0), T(353.891998));
        // ctx.lineTo(T(126), T(9.39610004));
        // ctx.bezierCurveTo(
        //     T(125.632057), T(9.29584408),
        //     T(125.122734), T(9.33733845),
        //     T(124.603165), T(9.37966728)
        // );
        // ctx.bezierCurveTo(
        //     T(124.142731), T(9.41717815),
        //     T(123.674263), T(9.45534515),
        //     T(123.289001), T(9.39610004)
        // );
        // ctx.lineTo(T(118.119003), T(8.07219982));
        // ctx.lineTo(T(8.17210007), T(104.212997));
        // ctx.lineTo(T(0), T(259.298737));
        // ctx.lineTo(T(0), T(353.891998));
        // ctx.stroke();

        drawCubicCtrl(
            [T(126),        T(9.39610004)],
            [T(125.632057), T(9.29584408)],
            [T(125.122734), T(9.33733845)],
            [T(124.603165), T(9.37966728)]
        );
        drawCubicCtrl(
            [T(124.603165), T(9.37966728)],
            [T(124.142731), T(9.41717815)],
            [T(123.674263), T(9.45534515)],
            [T(123.289001), T(9.39610004)]
        );

        // {8.17210007,  104.212997}, {-5.82350016, 369.813995}
        // {-5.82350016, 369.813995}, {126,         9.39620018}
        // {126,         9.39620018}, {125.631981,  9.29586983}, {125.12252,  9.3373785 }, {124.602829, 9.37972069}
        // {124.602829,  9.37972069}, {124.142509,  9.41722488}, {123.674164, 9.45538425}, {123.289001, 9.39620018}
        // {123.289001,  9.39620018}, {118.119003,  8.07219982}
        // {118.119003,  8.07219982}, {8.17210007,  104.212997}
        ctx.fillStyle = 'blue';
        ctx.strokeStyle = 'blue';
        ctx.translate(-1000, 40);

        // ctx.beginPath();
        // ctx.moveTo(T(8.17210007), T(104.212997));
        // ctx.lineTo(T(-5.82350016), T(369.813995));
        // ctx.lineTo(T(126), T(9.39620018));
        // ctx.bezierCurveTo(
        //     T(125.631981), T(9.29586983),
        //     T(125.12252),  T(9.3373785),
        //     T(124.602829), T(9.37972069)
        // );
        // ctx.bezierCurveTo(
        //     T(124.142509), T(9.41722488),
        //     T(123.674164), T(9.45538425),
        //     T(123.289001), T(9.39620018)
        // );
        // ctx.lineTo(T(118.119003),  T(8.07219982));
        // ctx.lineTo(T(8.17210007),  T(104.212997));
        // ctx.stroke();

        drawCubicCtrl(
            [T(126),        T(9.39620018)],
            [T(125.631981), T(9.29586983)],
            [T(125.12252),  T(9.3373785) ],
            [T(124.602829), T(9.37972069)]
        );
        drawCubicCtrl(
            [T(124.602829), T(9.37972069)],
            [T(124.142509), T(9.41722488)],
            [T(123.674164), T(9.45538425)],
            [T(123.289001), T(9.39620018)]
        );
    }

    // ctx.lineWidth = 1;
    // ctx.translate(-1000, 0);
    // drawBuf8380();
    // drawBuf8380_break();
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////

    ///////////////////////////////////////////////////////////////////////////////////////////////////////////
    function draw_crbug_526025()
    {
        function T(num)
        {
            var scale = 0.2;
            // var scale = 0.0000006;
            return num * scale;
        }

        ctx.fillStyle = 'red';
        ctx.strokeStyle = 'red';

        // seg=1  {{{360, -2147483648}, {593011648, -2147483520}, {1073742208, -1666752896}, {1073742080, -1073741568}}}
        // seg=2  {{{1073742080, -1073741568}, {1073742080, -480730560}, {593011840, -135.508026f}, {905.953125f, 255.999786f}}}
        // seg=3  {{{905.953125f, 255.999786f}, {815.80835f, 897.304565f}}}
        // seg=4  {{{815.80835f, 897.304565f}, {213.229446f, 572.949036f}}}
        // seg=5  {{{213.229446f, 572.949036f}, {32, 16}}}
        // seg=6  {{{32, 16}, {100, 512}}}
        // seg=7  {{{100, 512}, {213.229446f, 572.949036f}}}
        // seg=8  {{{213.229446f, 572.949036f}, {360, 1024}}}
        // seg=9  {{{360, 1024}, {360, 4140}}}
        // seg=10 {{{360, 4140}, {360, -2147483648}}}
        ctx.beginPath();
        ctx.moveTo(T(360), T(-2147483648));
        ctx.bezierCurveTo(
            T(593011648),  T(-2147483520),
            T(1073742208), T(-1666752896),
            T(1073742080), T(-1073741568)
        );
        ctx.bezierCurveTo(
            T(1073742080), T(-480730560),
            T(593011840),  T(-135.508026),
            T(905.953125), T(255.999786)
        );
        ctx.lineTo(T(815.80835), T(897.304565));
        ctx.lineTo(T(213.229446), T(572.949036));
        ctx.lineTo(T(32), T(16));
        ctx.lineTo(T(100), T(512));
        ctx.lineTo(T(213.229446), T(572.949036));
        ctx.lineTo(T(360), T(1024));
        ctx.lineTo(T(360), T(4140));
        ctx.lineTo(T(360), T(-2147483648));
        ctx.stroke();

        // drawCubicCtrl(
        //     [T(360),        T(-2147483648)],
        //     [T(593011648),  T(-2147483520)],
        //     [T(1073742208), T(-1666752896)],
        //     [T(1073742080), T(-1073741568)]
        // );
        // drawCubicCtrl(
        //     [T(1073742080), T(-1073741568)],
        //     [T(1073742080), T(-480730560)],
        //     [T(593011840),  T(-135.508026)],
        //     [T(905.953125), T(255.999786)]
        // );
        drawPoint([T(905.953125), T(255.999786)]);
        drawPoint([T(32), T(16)]);
        drawPoint([T(100), T(512)]);
        drawPoint([T(213.229446), T(572.949036)]);

        ctx.fillStyle = 'blue';
        ctx.strokeStyle = 'blue';

        // seg=11 {{{127, 321}, {6840, 270}}}
        // seg=12 {{{6840, 270}, {-21474836480, 100000000}}}
        // seg=13 {{{-21474836480, 100000000}, {2551, 64}}}
        // seg=14 {{{2551, 64}, {127, 321}}}
        ctx.beginPath();
        ctx.moveTo(T(127), T(321));
        ctx.lineTo(T(6840), T(270));
        ctx.lineTo(T(-21474836480), T(100000000));
        ctx.lineTo(T(2551), T(64));
        ctx.lineTo(T(127), T(321));
        ctx.stroke();

        drawPoint([T(127), T(321)]);
        // drawPoint([T(6840), T(270)]);
        // drawPoint([T(2551), T(64)]);
    }

    // ctx.lineWidth = 1;
    // ctx.translate(100, 1200);
    // draw_crbug_526025();
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////

    ///////////////////////////////////////////////////////////////////////////////////////////////////////////
    function draw_useinnerwind()
    {
        ctx.fillStyle = 'red';
        ctx.strokeStyle = 'red';

        ctx.beginPath();
        ctx.moveTo(0, 0);
        ctx.quadraticCurveTo(0, 200, 200, 0, 1.0);
        ctx.stroke();

        ctx.beginPath();
        ctx.moveTo(200, 0);
        ctx.quadraticCurveTo(200, 200, 400, 0, 0.5);
        ctx.stroke();

        // ctx.beginPath();
        // ctx.moveTo(0, 0);
        // ctx.lineTo(20, -30);
        // ctx.lineTo(200, 0);
        // ctx.lineTo(250, 100);
        // ctx.lineTo(150, 20);
        // ctx.lineTo(100, 20);
        // ctx.lineTo(250, 100);
        // ctx.lineTo(0, 0);
        // ctx.stroke();

        // ctx.fillStyle = 'blue';
        // ctx.strokeStyle = 'blue';
        // ctx.beginPath();
        // ctx.moveTo(200, 30);
        // ctx.lineTo(150, 20);
        // ctx.lineTo(250, 100);
        // ctx.lineTo(200, 30);
        // ctx.stroke();
    }
    // ctx.translate(100, 100);
    // draw_useinnerwind();
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////

    ///////////////////////////////////////////////////////////////////////////////////////////////////////////
    function draw_fuzzX_392()
    {
        // seg=1 {{{29, 379.766174f}, {29, 379.561981f}}}
        // seg=2 {{{{29, 379.561981f}, {82.7619476f, 396.246277f}, {139.023682f, 396.246277f}}}, 0.988829792f}
        // seg=3 {{{{139.023682f, 396.246277f}, {82.7775879f, 396.246277f}, {29, 379.766174f}}}, 0.98896724f}
        // op sect
        // seg=4 {{{29, 379.766174f}, {29, 379.561981f}}}
        // seg=5 {{{{29, 379.561981f}, {82.7619476f, 396.246277f}, {139.023682f, 396.246277f}}}, 0.988829792f}
        // seg=6 {{{{139.023682f, 396.246277f}, {82.7775879f, 396.246277f}, {29, 379.766174f}}}, 0.98896724f}
        // seg=7 {{{-236.483765f, -326.230042f}, {-231.64328f, -326.230042f}}}
        // seg=8 {{{-231.64328f, -326.230042f}, {139.023682f, 396.246277f}}}
        // seg=9 {{{139.023682f, 396.246277f}, {-236.483765f, 396.246277f}}}
        // seg=10 {{{-236.483765f, 396.246277f}, {-236.483765f, -326.230042f}}}

        function T(num)
        {
            var scale = 1;
            return num * scale;
        }

        ctx.fillStyle = 'red';
        ctx.strokeStyle = 'red';

        ctx.beginPath();
        ctx.moveTo(T(29), T(379.766174));
        ctx.lineTo(T(29), T(379.561981));
        ctx.quadraticCurveTo(T(82.7619476), T(396.246277), T(139.023682), T(396.246277), 0.988829792);
        ctx.quadraticCurveTo(T(82.7775879), T(396.246277), T(29), T(379.766174), 0.98896724);
        ctx.stroke();

        drawPoint([T(29), T(379.766174)]);
        drawPoint([T(29), T(379.561981)]);

        ctx.fillStyle = 'blue';
        ctx.strokeStyle = 'blue';
        ctx.beginPath();
        ctx.moveTo(T(-236.483765), T(-326.230042));
        ctx.lineTo(T(-231.64328), T(-326.230042));
        ctx.lineTo(T(139.023682), T(396.246277));
        ctx.lineTo(T(-236.483765), T(396.246277));
        ctx.lineTo(T(-236.483765), T(-326.230042));
        ctx.stroke();

        drawPoint([T(-236.483765), T(-326.230042)]);
    }
    // ctx.lineWidth = 1;
    // ctx.translate(300, 1200);
    // draw_fuzzX_392();
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////

    function draw_cubicOp108()
    {
        function T(num)
        {
            var scale = 100;
            return num * scale;
        }

        ctx.fillStyle = 'red';
        ctx.strokeStyle = 'red';

        ctx.beginPath();
        ctx.moveTo(T(0), T(1));
        ctx.bezierCurveTo(T(4), T(6), T(2), T(1), T(2), T(0));
        ctx.lineTo(T(0), T(1));
        ctx.stroke();

        drawPoint([T(0), T(1)]);
        drawPoint([T(4), T(6)]);
        drawPoint([T(2), T(1)]);
        drawPoint([T(2), T(0)]);

        ctx.fillStyle = 'blue';
        ctx.strokeStyle = 'blue';
        ctx.beginPath();
        ctx.moveTo(T(1), T(2));
        ctx.bezierCurveTo(T(0), T(2), T(1), T(0), T(6), T(4));
        ctx.lineTo(T(1), T(2));
        ctx.stroke();

        drawPoint([T(1), T(2)]);
        drawPoint([T(0), T(2)]);
        drawPoint([T(1), T(0)]);
        drawPoint([T(6), T(4)]);
    }
    // ctx.lineWidth = 1;
    // ctx.translate(300, 1200);
    // draw_cubicOp108();

    function draw_skbug_328687149()
    {
        function T(num)
        {
            var scale = 10;
            return num * scale;
        }

        function M(x, y)
        {
            ctx.moveTo(T(x), T(y));
        }

        function L(x, y)
        {
            ctx.lineTo(T(x), T(y));
        }

        function P(x, y, a = 0)
        {
            drawPoint([T(x), T(y)]);
            drawLabel([T(x).toFixed(3), T(y).toFixed(3)], a);
        }

        ctx.fillStyle = 'red';
        ctx.strokeStyle = 'red';

        ctx.beginPath();
        M(                   0,                    0);
        L(                   9,                   19);
        L(18.962963104248046875, 25.234567642211914062);
        L(27.518518447875976562, 30.160493850708007812);
        L(34.666667938232421875, 33.77777862548828125);
        L(40.407405853271484375, 36.08641815185546875);
        L( 44.7407379150390625, 37.08641815185546875);
        L(47.666667938232421875, 36.77777862548828125);
        L(49.185184478759765625,   35.160491943359375);
        L(  49.296295166015625, 32.234569549560546875);
        L(                  48,                   28);
        L(        47.810546875,          38.05859375);
        L(           47.046875,             43.59375);
        L(     46.358154296875,       45.06787109375);
        L(        45.416015625,          45.89453125);
        L(     44.183837890625,       46.23486328125);
        L(              42.625,                46.25);
        L(        38.380859375,          45.94921875);
        L(           32.390625,             46.28125);
        L(     28.649169921875,       47.08740234375);
        L(        24.361328125,          48.53515625);
        L(     19.490478515625,       50.78564453125);
        L(                  14,                   54);
        L(12.166666984558105469, 53.583332061767578125);
        L(                  12,                   53);
        L(                13.5,                52.25);
        L(16.666666030883789062, 51.333332061767578125);
        L(21.500001907348632812,                50.25);
        L(                  28,                   49);
        L(                  0,                   0);
        ctx.stroke();

        P(                   0,                    0);
        P(                   9,                   19);
        P(18.962963104248046875, 25.234567642211914062);
        P(27.518518447875976562, 30.160493850708007812);
        P(34.666667938232421875, 33.77777862548828125, -60);
        P(40.407405853271484375, 36.08641815185546875);
        P( 44.7407379150390625, 37.08641815185546875);
        P(47.666667938232421875, 36.77777862548828125, 30);
        P(49.185184478759765625,   35.160491943359375);
        P(  49.296295166015625, 32.234569549560546875);
        P(                  48,                   28);
        P(        47.810546875,          38.05859375);
        P(           47.046875,             43.59375);
        P(     46.358154296875,       45.06787109375, 30);
        P(        45.416015625,          45.89453125, 90);
        P(     44.183837890625,       46.23486328125, -90);
        P(              42.625,                46.25, 90);
        P(        38.380859375,          45.94921875, 90);
        P(           32.390625,             46.28125, 90);
        P(     28.649169921875,       47.08740234375, 90);
        P(        24.361328125,          48.53515625, 90);
        P(     19.490478515625,       50.78564453125);
        P(                  14,                   54);
        P(12.166666984558105469, 53.583332061767578125);
        P(                  12,                   53);
        P(                13.5,                52.25);
        P(16.666666030883789062, 51.333332061767578125);
        P(21.500001907348632812,                50.25);
        P(                  28,                   49, 60);
        
        ctx.fillStyle = 'blue';
        ctx.strokeStyle = 'blue';
        ctx.beginPath();
        M(                  50,                   54);
        L(        52.361328125,         48.138671875);
        L(           53.328125,            44.421875);
        L(     53.233642578125,      43.188232421875);
        L(        52.724609375,         42.275390625);
        L(     51.779052734375,      41.611572265625);
        L(              50.375,               41.125);
        L(           39.734375,            39.515625);
        L(        31.091796875,         37.908203125);
        L(                  20,                   35);
        L(                  50,                   54);
        ctx.stroke();

        P(                  50,                   54);
        P(        52.361328125,         48.138671875);
        P(           53.328125,            44.421875);
        P(     53.233642578125,      43.188232421875);
        P(        52.724609375,         42.275390625);
        P(     51.779052734375,      41.611572265625);
        P(              50.375,               41.125);
        P(           39.734375,            39.515625);
        P(        31.091796875,         37.908203125);
        P(                  20,                   35);

        // 11.8909, 20.809
        // 47.8381, 36.5952
        // 47.4486, 40.6824
        // 37.3762, 46.0049
        // 27.1888, 47.5805
        // 19.8488, 50.6201
    }

    function draw_skbug_328687149_II()
    {
        function T(num)
        {
            var scale = 10;
            return num * scale;
        }

        function M(x, y)
        {
            ctx.moveTo(T(x), T(y));
        }

        function L(x, y)
        {
            ctx.lineTo(T(x), T(y));
        }

        function P(x, y, a=0, clr="")
        {
            drawPoint([T(x), T(y)]);
            drawLabel([T(x).toFixed(3), T(y).toFixed(3)], a, clr);
        }

        ctx.fillStyle = 'red';
        ctx.strokeStyle = 'red';

        ctx.beginPath();
        M(                   0,                    0);
        L(                   8,                    5);
        L(7.2716050148010253906, 13.123456954956054688);
        L(8.1975307464599609375, 20.604938507080078125);
        L(10.77777862548828125, 27.444446563720703125);
        L(15.012346267700195312, 33.64197540283203125);
        L(20.90123748779296875, 39.19753265380859375);
        L(28.444446563720703125, 44.111110687255859375);
        L(37.64197540283203125, 48.382717132568359375);
        L(48.49382781982421875, 52.012348175048828125);
        L(                  61,                   55);
        L(                   0,                    0);
        ctx.stroke();

        P(                   0,                    0);
        P(                   8,                    5);
        P(7.2716050148010253906, 13.123456954956054688);
        P(8.1975307464599609375, 20.604938507080078125);
        P(10.77777862548828125, 27.444446563720703125);
        P(15.012346267700195312, 33.64197540283203125);
        P(20.90123748779296875, 39.19753265380859375);
        P(28.444446563720703125, 44.111110687255859375);
        P(37.64197540283203125, 48.382717132568359375);
        P(48.49382781982421875, 52.012348175048828125);
        P(                  61,                   55);
        
        ctx.fillStyle = 'blue';
        ctx.strokeStyle = 'blue';
        ctx.beginPath();
        M(                  57,                   14);
        L(  47.785125732421875, 13.809917449951171875);
        L(40.14049530029296875, 14.330578804016113281);
        L( 34.0661163330078125, 15.561983108520507812);
        L(29.561983108520507812, 17.504133224487304688);
        L(26.628101348876953125, 20.157026290893554688);
        L(25.264463424682617188,   23.520660400390625);
        L(25.471073150634765625, 27.595041275024414062);
        L(27.247934341430664062, 32.38016510009765625);
        L(30.595045089721679688,    37.87603759765625);
        L(35.51239776611328125, 44.08264923095703125);
        L(                  42,                   51);
        L(38.677684783935546875,     42.6942138671875);
        L(35.983470916748046875,    35.95867919921875);
        L(33.917354583740234375, 30.793386459350585938);
        L(  32.479339599609375, 27.198347091674804688);
        L(31.669422149658203125,   25.173553466796875);
        L(31.48760223388671875,  24.7190093994140625);
        L( 31.9338836669921875, 25.834711074829101562);
        L(33.00826263427734375, 28.520662307739257812);
        L(34.71074676513671875, 32.77686309814453125);
        L(37.041324615478515625, 38.60330963134765625);
        L(                  40,                   46);
        L(                  57,                   14);
        ctx.stroke();

        P(                  57,                   14, 30);
        P(  47.785125732421875, 13.809917449951171875);
        P(40.14049530029296875, 14.330578804016113281);
        P( 34.0661163330078125, 15.561983108520507812);
        P(29.561983108520507812, 17.504133224487304688);
        P(26.628101348876953125, 20.157026290893554688);
        P(25.264463424682617188,   23.520660400390625);
        P(25.471073150634765625, 27.595041275024414062);
        P(27.247934341430664062, 32.38016510009765625);
        P(30.595045089721679688,    37.87603759765625);
        P(35.51239776611328125, 44.08264923095703125);
        P(                  42,                   51, 15, "green");
        P(38.677684783935546875,     42.6942138671875, 15, "green");
        P(35.983470916748046875,    35.95867919921875, 15, "green");
        P(33.917354583740234375, 30.793386459350585938, 15, "green");
        P(  32.479339599609375, 27.198347091674804688, 15, "green");
        P(31.669422149658203125,   25.173553466796875, 15, "green");
        P(31.48760223388671875,  24.7190093994140625, 15, "green");
        P( 31.9338836669921875, 25.834711074829101562);
        P(33.00826263427734375, 28.520662307739257812);
        P(34.71074676513671875, 32.77686309814453125);
        P(37.041324615478515625, 38.60330963134765625);
        P(                  40,                   46);
    }

    // ctx.lineWidth = 1;
    // ctx.translate(10, 10);
    // draw_skbug_328687149();
    // draw_skbug_328687149_II();


    ///////////////////////////////////////////////////////////////////////////////////////////////////////////
    function draw_crbug_884166()
    {
        // var gx = 160;
        // var gy = 280;
        var gx = 0;
        var gy = 0;
        function T(num)
        {
            var scale = 1;//100;
            return num * scale;
        }

        function M(x, y)
        {
            ctx.moveTo(T(x - gx), T(y - gy));
        }

        function L(x, y)
        {
            ctx.lineTo(T(x - gx), T(y - gy));
        }

        function P(x, y, a = 0, color = "")
        {
            drawPoint([T(x - gx), T(y - gy)], color);
            drawLabel([T(x - gx).toFixed(3), T(y - gy).toFixed(3)], a, color, [x.toFixed(6), y.toFixed(6)]);
        }

        ctx.fillStyle = 'red';
        ctx.strokeStyle = 'red';

        ctx.beginPath();
        M(153.25, 280.75);
        L(161.75, 281.75);
        L(164.25, 282.00);
        L(  0.00, 276.00);
        L(161.50,   0.00);
        L(286.25, 231.25);
        L(163.75, 282.00);
        L(150.00, 280.00);
        ctx.stroke();

        P(153.25, 280.75, 0, "green");
        P(161.75, 281.75, 0, "red");
        P(164.25, 282.00, 0, "green");
        P(  0.00, 276.00);
        P(161.50,   0.00);
        P(286.25, 231.25);
        P(163.75, 282.00, 45, "blue");
        P(150.00, 280.00, 45, "blue");

        P(163.582321, 281.975616, 90, "gray");
        P(162.649994, 281.839996, 90, "gray");
        P(163.790512, 281.983215, 90, "gray");
        P(163.847229, 281.959717, 90, "gray");
    }

    // ctx.lineWidth = 1;
    // ctx.translate(1100, 1000);
    // draw_crbug_884166();

    ///////////////////////////////////////////////////////////////////////////////////////////////////////////
    function draw_inversion()
    {
        // https://skia-review.googlesource.com/c/skia/+/87341
        function T(num)
        {
            var scale = 20;
            return num * scale;
        }

        function M(x, y)
        {
            ctx.moveTo(T(x - 0), T(y - 0));
        }

        function L(x, y)
        {
            ctx.lineTo(T(x - 0), T(y - 0));
        }

        function P(x, y, a = 0, color = "")
        {
            drawPoint([T(x - 0), T(y - 0)], color);
            // drawLabel([T(x - 0).toFixed(3), T(y - 0).toFixed(3)], a, color, [x, y]);
        }
        
        ctx.fillStyle = 'grey';
        ctx.strokeStyle = 'grey';

        // if (false)
        // {
        //     ctx.beginPath();
        //     M( 43.44110107421875,  148.15106201171875);
        //     L( 44.64471435546875,  148.16748046875);
        //     L( 46.35009765625,     147.403076171875);
        //     L( 46.45404052734375,  148.34906005859375);
        //     L( 45.0400390625,      148.54205322265625);
        //     L( 44.624053955078125, 148.9810791015625);
        //     L( 44.59405517578125,  149.16107177734375);
        //     L( 44.877044677734375, 149.62005615234375);
        //     L(144.373016357421875,  68.8070068359375);
        //     L( 43.44110107421875,  148.15106201171875);
        //     ctx.stroke();

        //     P( 43.44110107421875,  148.15106201171875);
        //     P( 44.64471435546875,  148.16748046875);
        //     P( 46.35009765625,     147.403076171875);
        //     P( 46.45404052734375,  148.34906005859375);
        //     P( 45.0400390625,      148.54205322265625);
        //     P( 44.624053955078125, 148.9810791015625);
        //     P( 44.59405517578125,  149.16107177734375);
        //     P( 44.877044677734375, 149.62005615234375);
        //     P(144.373016357421875,  68.8070068359375);
        // }
        // else
        {
            ctx.beginPath();
            M(43.5,   148.25);
            L(44.75,  148.25);
            L(46.25,  147.5);
            L(46.5,   148.25);
            L(45,     148.5);
            L(44.5,   149);
            L(44.5,   149.25);
            L(45,     149.5);
            L(144.25, 68.75);
            L(43.5,   148.25);
            ctx.stroke();

            P(43.5,   148.25, -90);
            P(44.75,  148.25, -45, "orange");
            P(46.25,  147.5, -45);
            P(46.5,   148.25, -120, "orange");
            P(45,     148.5, -60);
            P(44.5,   149, -50, "orange");
            P(44.5,   149.25, 30);
            P(45,     149.5, -45, "orange");
            P(144.25, 68.75);
        }

        // stroking boundary
        // stroking vertex 0 (43.5, 148.25)
        // inner (45, 147.75), outer (42, 148.75)
        // stroking vertex 3 (44.75, 148.25)
        // inner (44.75, 147.75), outer (44.75, 148.75)
        // stroking vertex 6 (46.25, 147.5)
        // inner (46.5, 146.75), outer (46, 148.25)
        // stroking vertex 7 (46.5, 148.25)
        // inner (47.25, 148.75), outer (45.75, 147.75)
        // stroking vertex 5 (45, 148.5)
        // inner (45.25, 149), outer (44.75, 148)
        // stroking vertex 2 (44.5, 149)
        // inner (45, 149.25), outer (44, 148.75)
        // stroking vertex 1 (44.5, 149.25)
        // inner (45, 149), outer (44, 149.5)
        // stroking vertex 4 (45, 149.5)
        // inner (45, 149), outer (45, 150)
        // stroking vertex 8 (144.25, 68.75)
        // inner (92, 110.75), (92, 110.75), outer (145, 68.75), (144.25, 68)

        ctx.fillStyle = 'blue';
        ctx.strokeStyle = 'blue';
        ctx.beginPath();
        M(45, 147.75);
        L(44.75, 147.75);
        L(46.5, 146.75);
        L(47.25, 148.75);
        L(45.25, 149);
        L(45, 149.25);
        L(45, 149);
        L(45, 149);
        L(92, 110.75);
        L(92, 110.75);
        L(45, 147.75);
        ctx.stroke();

        P(45, 147.75);
        P(44.75, 147.75);
        P(46.5, 146.75);
        P(47.25, 148.75);
        P(45.25, 149);
        P(45, 149.25);
        P(45, 149);
        P(92, 110.75);
        P(45, 147.75);

        ctx.fillStyle = 'red';
        ctx.strokeStyle = 'red';
        ctx.beginPath();
        M(42, 148.75);
        L(44.75, 148.75);
        L(46, 148.25);
        L(45.75, 147.75);
        L(44.75, 148);
        L(44, 148.75);
        L(44, 149.5);
        L(45, 150);
        L(145, 68.75);
        L(144.25, 68);
        L(42, 148.75);
        ctx.stroke();

        // P(42, 148.75);
        // P(44.75, 148.75);
        // P(46, 148.25);
        // P(45.75, 147.75);
        // P(44.75, 148);
        P(44, 148.75);
        P(44, 149.5);
        P(45, 150);
        // P(145, 68.75);
        // P(144.25, 68);
        // P(42, 148.75);

        P(34.5, 154.75, 0, "black");
        P(44.75, 147.843369, 0, "black");
        P(44.7794762, 147.823502, 0, "black");

        P(46.25, 149.25, 0, "black");

        // P(31.75, 161, 0, "orange");

        P(46.5567970, 148.287872, 0, "black");
    }

    // ctx.lineWidth = 1;
    // ctx.translate(-100, -1600);
    // draw_inversion();

    ///////////////////////////////////////////////////////////////////////////////////////////////////////////
    function draw_skbug12244()
    {
        function T(num)
        {
            var scale = 1;
            return num * scale;
        }

        function M(x, y)
        {
            ctx.moveTo(T(x - 0), T(y - 0));
        }

        function L(x, y)
        {
            ctx.lineTo(T(x - 0), T(y - 0));
        }

        function P(x, y, a = 0, color = "")
        {
            drawPoint([T(x - 0), T(y - 0)], color);
            drawLabel([T(x - 0).toFixed(3), T(y - 0).toFixed(3)], a, color, [x, y]);
        }
        
        ctx.fillStyle = 'red';
        ctx.strokeStyle = 'red';

        ctx.beginPath();
        M(2.7854299545288085938, -6.9635753631591796875);
        L( 120.194366455078125,                   40);
        L(-7.5000004768371582031, 91.07775115966796875);
        L(-7.5000004768371582031, -11.077748298645019531);
        L(2.7854299545288085938, -6.9635753631591796875);
        ctx.stroke();

        P(2.7854299545288085938, -6.9635753631591796875);
        P( 120.194366455078125,                   40);
        P(-7.5000004768371582031, 91.07775115966796875);
        P(-7.5000004768371582031, -11.077748298645019531);

        ctx.fillStyle = 'blue';
        ctx.strokeStyle = 'blue';

        ctx.beginPath();
        M(-2.7854299545288085938, 6.9635753631591796875);
        L(                   0,                    0);
        L(                 7.5,                    0);
        L(7.5000004768371582031, 68.92224884033203125);
        L(  79.805633544921875,                   40);
        L(-2.7854299545288085938, 6.9635753631591796875);
        ctx.stroke();

        P(-2.7854299545288085938, 6.9635753631591796875);
        P(                   0,                    0, 0, "black");
        P(                 7.5,                    0);
        P(7.5000004768371582031, 68.92224884033203125);
        P(  79.805633544921875,                   40);

        P(7.5, 11.0777473, 0, "black");
    }

    // ctx.lineWidth = 1;
    // ctx.translate(600, 600);
    // draw_skbug12244();

    ///////////////////////////////////////////////////////////////////////////////////////////////////////////
    function draw_perspshaders()
    {
        function T(num)
        {
            var scale = 2;
            return num * scale;
        }

        function M(x, y)
        {
            ctx.moveTo(T(x - 0), T(y - 0));
        }

        function L(x, y)
        {
            ctx.lineTo(T(x - 0), T(y - 0));
        }

        function P(x, y, a = 0, color = "")
        {
            drawPoint([T(x - 0), T(y - 0)], color);
            // drawLabel([T(x - 0).toFixed(3), T(y - 0).toFixed(3)], a, color, [x, y]);
        }

        ctx.fillStyle = 'DimGray';
        ctx.strokeStyle = 'DimGray';
        ctx.beginPath();
        M(124.3545989990234375, 2.421283721923828125);
        L(129.7618865966796875, 27.130544662475585938);
        L(134.4813690185546875, 50.10675811767578125);
        L( 138.513031005859375,  71.3499298095703125);
        L(141.8568878173828125,  90.8600616455078125);
        L(144.5129241943359375,   108.63714599609375);
        L(146.4811553955078125,  124.681182861328125);
        L(147.7615814208984375, 138.9921722412109375);
        L(  148.35418701171875,   151.57012939453125);
        L(  148.25897216796875, 162.4150238037109375);
        L(   147.4759521484375,  171.526885986328125);
        L(    146.005126953125,   178.90570068359375);
        L(143.8464813232421875,  184.551483154296875);
        L( 141.000030517578125,  188.464202880859375);
        L(  137.46575927734375,  190.643890380859375);
        L( 133.243682861328125,   191.09051513671875);
        L(  128.33380126953125, 189.8041229248046875);
        L(122.73609161376953125, 186.7846527099609375);
        L( 116.450592041015625,   182.03216552734375);
        L(109.47725677490234375,     175.546630859375);
        L(101.8161163330078125,  167.328033447265625);
        L(93.46717071533203125, 157.3764190673828125);
        L(84.43041229248046875, 145.6917266845703125);
        L(  74.705841064453125, 132.2740325927734375);
        L(   70.61553955078125, 122.7113494873046875);
        L( 67.2037506103515625, 114.9349517822265625);
        L( 64.4704742431640625,  108.944854736328125);
        L(62.415714263916015625,  104.741058349609375);
        L(  61.039459228515625, 102.32357025146484375);
        L( 60.3417205810546875,       101.6923828125);
        L(60.322490692138671875, 102.84749603271484375);
        L(60.98177337646484375,  105.788909912109375);
        L(62.319568634033203125, 110.51662445068359375);
        L(   64.33587646484375, 117.03064727783203125);
        L(67.03069305419921875, 125.33097076416015625);
        L(  70.404022216796875,    135.4176025390625);
        L(74.45586395263671875,      147.29052734375);
        L(79.18621063232421875, 160.9497528076171875);
        L( 84.5950775146484375,     176.395263671875);
        L( 90.6824493408203125,  193.627105712890625);
        L(97.44834136962890625,     212.645263671875);
        L(104.8927459716796875, 233.4496917724609375);
        L(113.0156402587890625,    256.0404052734375);
        L(121.81707000732421875,      280.41748046875);
        L( 189.138275146484375, 146.0659027099609375);
        L(124.3545989990234375, 2.421283721923828125);
        ctx.stroke();

        ctx.fillStyle = 'brown';
        ctx.strokeStyle = 'brown';
        ctx.beginPath();
        M(59.726428985595703125,      93.044189453125);
        L(74.06099700927734375,  119.114471435546875);
        L( 88.4444732666015625, 143.2787628173828125);
        L( 102.876861572265625, 165.5370635986328125);
        L(117.3581695556640625, 185.8893890380859375);
        L(131.8883819580078125,  204.335723876953125);
        L( 146.467498779296875,  220.876068115234375);
        L( 161.095550537109375,   235.51043701171875);
        L(175.7725067138671875, 248.2388153076171875);
        L(190.4983673095703125,   259.06121826171875);
        L(205.2731475830078125,   267.97760009765625);
        L(220.0968170166015625,     274.988037109375);
        L(  234.96942138671875,   280.09246826171875);
        L(  249.89093017578125,  283.290924072265625);
        L(  264.86138916015625,    284.5833740234375);
        L(   279.8807373046875,    283.9698486328125);
        L(    294.948974609375,    281.4503173828125);
        L(  310.06610107421875,   277.02484130859375);
        L( 325.232208251953125,        270.693359375);
        L(  340.44720458984375,  262.455902099609375);
        L(  314.93182373046875,  245.264801025390625);
        L( 291.055450439453125,    229.1241455078125);
        L(  268.81805419921875,  214.033905029296875);
        L( 248.219696044921875,   199.99407958984375);
        L(229.2602996826171875,   187.00469970703125);
        L(211.9399261474609375,   175.06573486328125);
        L( 196.258514404296875,   164.17718505859375);
        L(  182.21612548828125,  154.339080810546875);
        L(169.8127288818359375,    145.5513916015625);
        L(159.0482940673828125,   137.81414794921875);
        L( 149.922882080078125,    131.1273193359375);
        L(142.4364776611328125,   125.49090576171875);
        L(136.5890655517578125,  120.904937744140625);
        L(    132.380615234375,     117.369384765625);
        L(129.8111724853515625, 114.8842620849609375);
        L(   128.8807373046875, 113.4495697021484375);
        L(129.5892791748046875, 113.0652923583984375);
        L(131.9368438720703125,       113.7314453125);
        L(135.9233856201171875, 115.4480438232421875);
        L(141.5489044189453125, 118.2150421142578125);
        L( 148.813446044921875, 122.0324859619140625);
        L(157.7169647216796875,  126.900360107421875);
        L( 168.259490966796875,  132.818634033203125);
        L(67.48523712158203125, 152.7667999267578125);
        L(59.726428985595703125,      93.044189453125);
        ctx.stroke();

        ctx.fillStyle = 'purple';
        ctx.strokeStyle = 'purple';
        ctx.beginPath();
        M( 391.310211181640625, 217.0195159912109375);
        L(    385.153076171875, 231.6356353759765625);
        L( 378.853546142578125, 244.3042755126953125);
        L( 372.411651611328125,  255.025421142578125);
        L(  365.82733154296875,  263.799102783203125);
        L(  359.10064697265625,  270.625274658203125);
        L(   352.2315673828125,  275.503936767578125);
        L(   345.2200927734375,  278.435150146484375);
        L(  338.06622314453125,  279.418853759765625);
        L(  330.76995849609375,        278.455078125);
        L(    323.331298828125,    275.5438232421875);
        L( 315.750274658203125,      270.68505859375);
        L(     308.02685546875,   263.87884521484375);
        L(   300.1610107421875, 255.1251068115234375);
        L(     292.15283203125,   244.42388916015625);
        L( 284.002227783203125, 231.7751922607421875);
        L(    275.709228515625, 217.1790008544921875);
        L(  267.27386474609375, 200.6353302001953125);
        L( 258.696075439453125,    182.1441650390625);
        L( 249.975921630859375, 161.7055206298828125);
        L(     260.71728515625,   170.03375244140625);
        L(  269.54205322265625,    178.2225341796875);
        L( 276.450225830078125,    186.2718505859375);
        L( 281.441802978515625, 194.1817169189453125);
        L(  284.51678466796875,   201.95208740234375);
        L(   285.6751708984375,       209.5830078125);
        L(  284.91693115234375,     217.074462890625);
        L( 282.242095947265625, 224.4264373779296875);
        L( 277.650665283203125,  231.638946533203125);
        L(  271.14263916015625,   238.71197509765625);
        L(    262.718017578125, 245.6455535888671875);
        L(252.3767852783203125, 252.4396514892578125);
        L(  240.11895751953125,   259.09429931640625);
        L(  225.94451904296875,  265.609466552734375);
        L( 209.853485107421875,   271.98516845703125);
        L(191.8458709716796875,   278.22137451171875);
        L(171.9216461181640625,  284.318145751953125);
        L(150.0808258056640625,   290.27545166015625);
        L(126.32337188720703125,      296.09326171875);
        L(  100.64935302734375,    301.7716064453125);
        L( 73.0587310791015625,   307.31048583984375);
        L( 43.5514984130859375,   312.70989990234375);
        L(     12.127685546875,    317.9698486328125);
        L(  96.858123779296875,    224.0552978515625);
        L( 391.310211181640625, 217.0195159912109375);
        ctx.stroke();

        ctx.fillStyle = 'orange';
        ctx.strokeStyle = 'orange';
        ctx.beginPath();
        M(  229.70233154296875,  49.7158050537109375);
        L(  220.72247314453125,      69.539794921875);
        L(212.6776580810546875,  87.7698211669921875);
        L(     205.56787109375, 104.4058990478515625);
        L(199.3931121826171875, 119.44802093505859375);
        L(194.1533966064453125,   132.89617919921875);
        L(  189.84869384765625, 144.7503814697265625);
        L( 186.479034423828125,    155.0106201171875);
        L( 184.044403076171875,  163.676910400390625);
        L(   182.5447998046875,  170.749237060546875);
        L(181.9802398681640625, 176.2276153564453125);
        L(   182.3507080078125,  180.112030029296875);
        L(183.6562042236328125, 182.4024810791015625);
        L(    185.896728515625, 183.0989837646484375);
        L(189.0722808837890625, 182.2015228271484375);
        L(193.1828765869140625,  179.710113525390625);
        L(198.2285003662109375,     175.624755859375);
        L(204.2091522216796875,  169.945404052734375);
        L(211.1248321533203125, 162.6721343994140625);
        L( 218.975555419921875,  153.804901123046875);
        L(  227.76129150390625, 143.3436737060546875);
        L(237.4820709228515625, 131.2885284423828125);
        L(220.5170440673828125,   145.82366943359375);
        L( 205.439239501953125,        159.900390625);
        L(   192.2486572265625,    173.5186767578125);
        L( 180.945281982421875, 186.6785430908203125);
        L( 171.529144287109375,  199.379974365234375);
        L( 164.000213623046875, 211.6229705810546875);
        L(158.3585052490234375,   223.40753173828125);
        L(154.6040191650390625,  234.733673095703125);
        L(  152.73675537109375, 245.6013946533203125);
        L(   152.7567138671875,   256.01068115234375);
        L(  154.66387939453125,    265.9615478515625);
        L( 158.458282470703125,  275.453948974609375);
        L(    164.139892578125,  284.487945556640625);
        L( 171.708709716796875,       293.0634765625);
        L(181.1647796630859375,  301.180633544921875);
        L(192.5080413818359375,      308.83935546875);
        L(    205.738525390625,   316.03961181640625);
        L(220.8562469482421875,  322.781463623046875);
        L( 237.861175537109375,   329.06488037109375);
        L( 256.753326416015625,   334.88983154296875);
        L(     277.53271484375,   340.25640869140625);
        L(  182.76739501953125, 126.79457855224609375);
        L(  229.70233154296875,  49.7158050537109375);
        ctx.stroke();

        P(60.9176331, 102.213364, 0, "black");
        P(61.7219887, 108.4048, 0, "black");
        P(75.7835007, 151.124161, 0, "black");
        P(86.925972, 148.918533, 0, "black");
        P(91.512619, 148.010605, 0, "black");
        P(101.491554, 223.94458, 0, "black");
        P(111.019707, 176.981186, 0, "black");
        // P(, 0, "black");
        // P(, 0, "black");
        // P(, 0, "black");
        // P(, 0, "black");
        // P(, 0, "black");
        // P(, 0, "black");
        // P(, 0, "black");
        
        // ctx.fillStyle = 'red';
        // ctx.strokeStyle = 'red';
        // ctx.beginPath();
        // M(158.358505, 223.407532);
        // L(164.000214, 211.622971);
        // ctx.stroke();

        P(158.358505, 223.407532, 90, "red");
        P(164.000214, 211.622971, 90, "red");

        // ctx.fillStyle = 'blue';
        // ctx.strokeStyle = 'blue';
        // ctx.beginPath();
        // M(150.703873, 222.768677);
        // L(391.310211, 217.019516);
        // ctx.stroke();

        P(150.703873, 222.768677, 45, "blue");
        P(391.310211, 217.019516, 0, "blue");

        P(158.756470, 222.576263, 0, "green");
    }

    // ctx.lineWidth = 1;
    // ctx.translate(600, 600);
    // draw_perspshaders();

    ///////////////////////////////////////////////////////////////////////////////////////////////////////////
    function draw_clippedcubic2()
    {
        function T(num)
        {
            var scale = 2;
            return num * scale;
        }

        function M(x, y)
        {
            ctx.moveTo(T(x - 0), T(y - 0));
        }

        function L(x, y)
        {
            ctx.lineTo(T(x - 0), T(y - 0));
        }

        function P(x, y, a = 0, color = "")
        {
            drawPoint([T(x - 0), T(y - 0)], color);
            // drawLabel([T(x - 0).toFixed(3), T(y - 0).toFixed(3)], a, color, [x, y]);
        }

        ctx.strokeStyle = "red";
        ctx.fillStyle = "red";
        ctx.beginPath();
        M( 69.7030487060546875,                    0);
        L(69.15839385986328125,   8.1867828369140625);
        L(       67.5244140625, 16.37377166748046875);
        L( 64.8011322021484375, 24.56096649169921875);
        L(60.98853302001953125, 32.748363494873046875);
        L(56.08661651611328125, 40.93596649169921875);
        L(50.095386505126953125, 49.12377166748046875);
        L(43.014842987060546875,  57.3117828369140625);

        L(34.844982147216796875,                 65.5);
        L(26.675884246826171875,  73.6867828369140625);
        L(19.595884323120117188, 81.87377166748046875);
        L(      13.60498046875,  90.0609588623046875);
        L(8.7031717300415039062,  98.2483673095703125);
        L(4.890460968017578125, 106.4359588623046875);
        L(2.1668474674224853516,     114.623779296875);
        L(0.53233087062835693359, 122.8117828369140625);
        L(-0.01308900490403175354,                  131);

        L( 69.7030487060546875,                    0);
        ctx.stroke();

        P( 69.7030487060546875,                    0, 0, "grey");
        P(69.15839385986328125,   8.1867828369140625, 0, "grey");
        P(       67.5244140625, 16.37377166748046875, 0, "grey");
        P( 64.8011322021484375, 24.56096649169921875, 0, "grey");
        P(60.98853302001953125, 32.748363494873046875, 0, "grey");
        P(56.08661651611328125, 40.93596649169921875, 0, "grey");
        P(50.095386505126953125, 49.12377166748046875, 0, "grey");
        P(43.014842987060546875,  57.3117828369140625, 0, "grey");
        P(34.844982147216796875,                 65.5);

        P(26.675884246826171875,  73.6867828369140625, 0, "orange");
        P(19.595884323120117188, 81.87377166748046875, 0, "orange");
        P(      13.60498046875,  90.0609588623046875, 0, "orange");
        P(8.7031717300415039062,  98.2483673095703125, 0, "orange");
        P(4.890460968017578125, 106.4359588623046875, 0, "orange");
        P(2.1668474674224853516,     114.623779296875, 0, "orange");
        P(0.53233087062835693359, 122.8117828369140625, 0, "orange");
        P(-0.01308900490403175354,                  131, 0, "orange");

        P(34.8449783, 65.5000076, 0, "black");
    }

    // ctx.lineWidth = 1;
    // ctx.translate(100, 100);
    // draw_clippedcubic2();
    
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////
    function draw_circular_arcs_stroke_round()
    {
        function T(num)
        {
            var scale = 16;
            return num * scale;
        }

        function M(x, y)
        {
            ctx.moveTo(T(x - 0), T(y - 0));
        }

        function L(x, y)
        {
            ctx.lineTo(T(x - 0), T(y - 0));
        }

        function P(x, y, a = 0, color = "", showLbl = false)
        {
            drawPoint([T(x - 0), T(y - 0)], color);
            if (showLbl)
            {
                drawLabel([T(x - 0).toFixed(3), T(y - 0).toFixed(3)], a, color, [x, y]);
            }
        }

        ctx.strokeStyle = "red";
        ctx.fillStyle = "red";
        ctx.beginPath();
        M(15.224675178527832031,    47.08221435546875);
        L(8.2666044235229492188, 44.946559906005859375);
        L(2.3494853973388671875,    41.17694091796875);
        L(-2.5266828536987304688, 35.773349761962890625);
        L(    -5.9366455078125, 29.34311676025390625);
        L(-7.4551563262939453125, 22.493558883666992188);
        L(-7.0822138786315917969, 15.22467803955078125);
        L(-4.9465608596801757812, 8.2666044235229492188);
        L(-1.1769404411315917969, 2.3494844436645507812);
        L(4.2266469001770019531, -2.5266809463500976562);
        L(10.656881332397460938, -5.9366464614868164062);
        L(17.506441116333007812, -7.4551568031311035156);
        L(24.775323867797851562, -7.0822138786315917969);
        L(31.733394622802734375, -4.9465608596801757812);
        L(    37.6505126953125, -1.1769404411315917969);
        L(42.52667999267578125, 4.2266469001770019531);
        L(    45.9366455078125, 10.65688323974609375);
        L(47.455158233642578125, 17.506443023681640625);
        L(   47.08221435546875, 24.775325775146484375);
        L(46.021587371826171875, 27.50270843505859375);
        L(43.997974395751953125, 29.61660003662109375);
        L(41.319446563720703125, 30.795177459716796875);
        L(38.393795013427734375, 30.859020233154296875);
        L(35.66640472412109375, 29.79839324951171875);
        L(33.55251312255859375, 27.774782180786132812);
        L(  32.373931884765625, 25.096256256103515625);
        L(32.31009674072265625, 22.17060089111328125);
        L(32.241970062255859375, 17.286020278930664062);
        L(30.23940277099609375, 12.830293655395507812);
        L(26.737306594848632812, 9.4245471954345703125);
        L(22.17060089111328125,  7.68990325927734375);
        L(17.286020278930664062, 7.7580304145812988281);
        L(12.830293655395507812, 9.7605991363525390625);
        L(9.4245471954345703125, 13.262693405151367188);
        L( 7.68990325927734375, 17.82939910888671875);
        L(7.7580308914184570312, 22.713977813720703125);
        L(9.7605991363525390625, 27.169704437255859375);
        L(13.262693405151367188, 30.575450897216796875);
        L(17.82939910888671875, 32.31009674072265625);
        L(20.556781768798828125,  33.3707122802734375);
        L(22.670675277709960938, 35.394329071044921875);
        L(23.849252700805664062, 38.07285308837890625);
        L(23.91309356689453125, 40.998516082763671875);
        L(22.85247039794921875, 43.72589874267578125);
        L(     20.828857421875, 45.83979034423828125);
        L(18.150331497192382812,    47.01837158203125);
        L(15.224674224853515625,    47.08221435546875);
        ctx.stroke();

        P(15.224675178527832031,    47.08221435546875, 0, "black");
        P(8.2666044235229492188, 44.946559906005859375, 0, "orange", true);
        P(2.3494853973388671875,    41.17694091796875);
        P(-2.5266828536987304688, 35.773349761962890625);
        P(    -5.9366455078125, 29.34311676025390625);
        P(-7.4551563262939453125, 22.493558883666992188);
        P(-7.0822138786315917969, 15.22467803955078125);
        P(-4.9465608596801757812, 8.2666044235229492188);
        P(-1.1769404411315917969, 2.3494844436645507812);
        P(4.2266469001770019531, -2.5266809463500976562);
        P(10.656881332397460938, -5.9366464614868164062);
        P(17.506441116333007812, -7.4551568031311035156);
        P(24.775323867797851562, -7.0822138786315917969);
        P(31.733394622802734375, -4.9465608596801757812);
        P(    37.6505126953125, -1.1769404411315917969);
        P(42.52667999267578125, 4.2266469001770019531);
        P(    45.9366455078125, 10.65688323974609375);
        P(47.455158233642578125, 17.506443023681640625);
        P(   47.08221435546875, 24.775325775146484375);
        P(46.021587371826171875, 27.50270843505859375);
        P(43.997974395751953125, 29.61660003662109375);
        P(41.319446563720703125, 30.795177459716796875);
        P(38.393795013427734375, 30.859020233154296875);
        P(35.66640472412109375, 29.79839324951171875);
        P(33.55251312255859375, 27.774782180786132812);
        P(  32.373931884765625, 25.096256256103515625);
        P(32.31009674072265625, 22.17060089111328125);
        P(32.241970062255859375, 17.286020278930664062);
        P(30.23940277099609375, 12.830293655395507812);
        P(26.737306594848632812, 9.4245471954345703125);
        P(22.17060089111328125,  7.68990325927734375);
        P(17.286020278930664062, 7.7580304145812988281);
        P(12.830293655395507812, 9.7605991363525390625);
        P(9.4245471954345703125, 13.262693405151367188);
        P( 7.68990325927734375, 17.82939910888671875);
        P(7.7580308914184570312, 22.713977813720703125);
        P(9.7605991363525390625, 27.169704437255859375);
        P(13.262693405151367188, 30.575450897216796875);
        P(17.82939910888671875, 32.31009674072265625, 0, "black");
        P(20.556781768798828125,  33.3707122802734375);
        P(22.670675277709960938, 35.394329071044921875);
        P(23.849252700805664062, 38.07285308837890625);
        P(23.91309356689453125, 40.998516082763671875);
        P(22.85247039794921875, 43.72589874267578125);
        P(     20.828857421875, 45.83979034423828125);
        P(18.150331497192382812,    47.01837158203125, 0, "blue", true);
        P(15.224674224853515625,    47.08221435546875, 0, "yellow");
    }

    ctx.lineWidth = 1;
    ctx.translate(200, 150);
    draw_circular_arcs_stroke_round();

    ///////////////////////////////////////////////////////////////////////////////////////////////////////////
    function drawQuadPair(p0, p1, p2, p3, p4, p5)
    {
        ctx.fillStyle = 'red';
        ctx.strokeStyle = 'red';
        drawQuad(p0, p1, p2);
        drawQuadCtrl(p0, p1, p2);

        ctx.fillStyle = 'blue';
        ctx.strokeStyle = 'blue';
        drawQuad(p3, p4, p5);
        drawQuadCtrl(p3, p4, p5);
    }

    // ctx.lineWidth = 1;
    // ctx.translate(1000, 1000);
    // drawQuadPair(
    //     [627.69104003906250, 81.144287109375000],
    //     [168.92480468750000, -211.72735595703125],
    //     [-61.570861816406250, 915.17187500000000],
    //     [627.69104003906250, 81.144287109375000],
    //     [918.15942382812500, -325.46899414062500],
    //     [359.05236816406250,  817.48889160156250]
    // );
    // drawQuadPair(
    //     [-581.79187011718750, 172.05029296875000],
    //     [658.03625488281250, 40.609863281250000],
    //     [667.08630371093750, 478.81726074218750],
    //     [-581.79187011718750, 172.05029296875000],
    //     [71.155517578125000, 433.02062988281250],
    //     [583.44250488281250, 293.40905761718750]
    // );
    // drawQuadPair(
    //     [-232.13122558593750, -65.052978515625000],
    //     [-888.74865722656250, 853.41906738281250],
    //     [336.70422363281250, 628.50207519531250],
    //     [-232.13122558593750, -65.052978515625000],
    //     [285.94873046875000, -819.74456787109375],
    //     [450.09179687500000, 841.08142089843750]
    // );
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////
  </script>
</body>